<?xml version="1.0" encoding="UTF-8"?>
<DataLoader xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="dataloader.xsd">
	<!-- 
	Defined which Reader implement will be used to get data. The Class
	attribute refer the Class name or Reader implements. This Class can be
	developed by customer. 
	-->
	<Reader Class="com.platform.perf.dataloader.soam.SessionFDataReaderMgr">
	    <Properties>
			<Property>
				<Name>SOAPTimeOut</Name>
				<!--The 180 is in seconds-->
				<Value>180</Value>
			</Property>
			<Property>
				<Name>HistoryLoad</Name>
				<!--The 3 is in days-->
				<Value>3</Value>
			</Property>			
			<Property>
				<Name>Apps</Name>
				<Set>
					<!--Value>symping</Value-->
				</Set>
			</Property>
			<Property>
				<Name>RetryLimit</Name>
				<!--This value is in times-->
				<Value>1</Value>
			</Property>
		</Properties>
	</Reader>	
	<!-- 
	Defined which Writer will be used to load the output of Reader into
	DataBase. 
	Type 		attribute is optional, it defined the DataBase operation type.
				By default, it is JDBC.
	BatchSize 	Defined how many records will be committed into DataBase one time.
	-->
	<Writer Type="JDBC" BatchSize="1">
		<!-- 
		Defined the name of which DataSource will be used. This is Optional
		-->
		<DataSource>ReportDB</DataSource>
		
		<!--
		The SQL statement will be defined in this element. If  The Field sub
		elements map the output of Reader to DataBase table. The Name attribute
		is the key of Reader output. The Column attribute is the column name of
		DataBase Table.
		-->
	<SQL Input="SESSION_HISTORY">
   	<Statement><![CDATA[     
	  INSERT INTO SESSION_HISTORY( 
	  CLUSTER_NAME             ,
      TIME_STAMP                ,                   
      TIME_STAMP_GMT            ,      
      SESSION_ID                ,             
      SESSION_NAME              ,             
      APP_NAME                  ,              
      CONSUMER_NAME             ,          
      PRIORITY                  ,          
      SESSION_STATE             ,        
      NUM_TASK_PENDING          ,       
      NUM_TASK_RUNNING          ,       
      NUM_TASK_DONE             ,       
      NUM_TASK_ERROR            ,      
      NUM_TASK_CANCELED         ,     
      SERVICE_INSTANCES         ,  
      SUBMISSION_USER           ,
      REASON                    ,
      ABORT_SESSION_IF_TASK_FAIL,
      RECOVERABLE               ,
      SESSION_TYPE              ,
      CREATE_TIME               ,     
      LAST_ERROR_TIME           ,
      TASK_RETRY_LIMIT          ,
      SERVICE                   ,      
      PERSIST_SESSION_HISTORY   ,
      PERSIST_TASK_HISTORY      ,
	  END_TIME                  ,
	  SESSION_RETRY_LIMIT       ,
	  TOTAL_UNSUCCESS_TASKRUNS        ,
	  TOTAL_UNSUCCESS_TASKSRUNTIME       ,
	  TOTAL_TASKS_RUNTIME              ,
	  TOTAL_INPUT_SIZE            ,
	  TOTAL_OUTPUT_SIZE           ,
	  TOTAL_TASKS_SUBMIT2START_TIME        ,
	  COMMON_DATA_SIZE          ,
	  SESSION_TAG               ,
	  PROTOCOL_VERSION          ,
	  SYMPHONY_VERSION          ,
	  SESSION_BINDING_FAILURES     ,
	  SESSION_UPDATE_FAILURES              ,    
      NUM_COMMON_DATA_UPDATES              ,
      TOTAL_COMMON_DATA_UPDATE_SIZE         ,
      COMPRESSION_ENABLED          ,
      COMMON_DATA_COMPRESSED ,
      RAW_COMMON_DATA_SIZE            ,
      COMPRESSION_THRESHOLD        ,
      DIRECT_DATA_TRANSFER_ENABLED,
      SSN_ABORT_IFCLIENT_DISCONNECT,
      SSN_DISCARD_RESULT_ONDELIVERY,
      PREEMPTIVE,
      CLIENT_VERSION,
      CLIENT_HOST_NAME,
      CLIENT_IP_ADDRESS,
      CLIENT_OS_USER_NAME,
      SERVICE_TO_SLOT_RATIO,
      RESOURCE_GROUP_FILTER,
      PREEMPTION_RANK,
      TASKS_INTERRUPTED_BY_PREEMPT,
      PREEMPT_TIME,
      TASKS_INTERRUPTED_BY_RECLAIM,
      RECLAIM_TIME,
      SESSION_METADATA,
      NUM_TASK_YIELDED,
      NUM_TASK_RESUMING,
      PARENT_ID,
      ROOT_SESSION_ID,
      TASK_DISPATCH_ORDER,
      POLICY_TAG_PATH,
      SESSION_TIMEOUT,
      TASK_EXECUTION_TIMEOUT
	)VALUES(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
   	]]>
   	</Statement>
	<Field Name="clustername" Column="CLUSTER_NAME"/>
   	<Field Name="TIME_STAMP" Column="TIME_STAMP"/>
   	<Field Name="TIME_STAMP_GMT" Column="TIME_STAMP_GMT"/>
   	<Field Name="SESSION_ID" Column="SESSION_ID"/>
   	<Field Name="SESSION_NAME" Column="SESSION_NAME"/>
   	<Field Name="APP_NAME" Column="APP_NAME"/>
   	<Field Name="CONSUMER_NAME" Column="CONSUMER_NAME"/>
   	<Field Name="PRIORITY" Column="PRIORITY"/>
   	<Field Name="SESSION_STATE" Column="SESSION_STATE"/>
   	<Field Name="NUM_TASK_PENDING" Column="NUM_TASK_PENDING"/>
    <Field Name="NUM_TASK_RUNNING" Column="NUM_TASK_RUNNING"/>
        
   	<Field Name="NUM_TASK_DONE" Column="NUM_TASK_DONE"/>
   	<Field Name="NUM_TASK_ERROR" Column="NUM_TASK_ERROR"/>	
   	<Field Name="NUM_TASK_CANCELED" Column="NUM_TASK_CANCELED"/>
   	<Field Name="SERVICE_INSTANCES" Column="SERVICE_INSTANCES"/>
   	<Field Name="SUBMISSION_USER" Column="SUBMISSION_USER"/>
   	<Field Name="ABORT_REASON" Column="REASON"/>
   	<Field Name="ABORT_SESSION_IF_TASK_FAIL" Column="ABORT_SESSION_IF_TASK_FAIL"/>
   	<Field Name="RECOVERABLE" Column="RECOVERABLE"/>
   	<Field Name="SESSION_TYPE" Column="SESSION_TYPE"/>
   	<Field Name="CREATE_TIME" Column="CREATE_TIME"/>
   	<Field Name="LAST_ERROR_TIME" Column="LAST_ERROR_TIME"/>
   	<Field Name="TASK_RETRY_LIMIT" Column="TASK_RETRY_LIMIT"/>
   	<Field Name="SERVICE" Column="SERVICE"/>   	
   	<Field Name="PERSIST_SESSION_HISTORY" Column="PERSIST_SESSION_HISTORY"/>
   	<Field Name="PERSIST_TASK_HISTORY" Column="PERSIST_TASK_HISTORY"/>
	
	<!--Symphony 3.2-->
	<Field Name="END_TIME" Column="END_TIME"/>
	<Field Name="SESSION_RETRY_LIMIT" Column="SESSION_RETRY_LIMIT"/>
	<Field Name="TOT_NUM_RERUN_TASK" Column="TOTAL_UNSUCCESS_TASKRUNS"/>
	
	<Field Name="TOT_TASK_RERUN_TIME" Column="TOTAL_UNSUCCESS_TASKSRUNTIME"/>	
	<Field Name="TOT_RUN_TIME" Column="TOTAL_TASKS_RUNTIME"/> 
	<Field Name="TOT_INPUT_SIZE" Column="TOTAL_INPUT_SIZE"/>
	
	<Field Name="TOT_OUTPUT_SIZE" Column="TOTAL_OUTPUT_SIZE"/> 
	<Field Name="TOT_TASK_WAIT_TIME" Column="TOTAL_TASKS_SUBMIT2START_TIME"/>
	<Field Name="COMMON_DATA_SIZE" Column="COMMON_DATA_SIZE"/>
	
	<Field Name="SESSION_TAG" Column="SESSION_TAG"/> 
	<Field Name="PROTOCOL_VERSION" Column="PROTOCOL_VERSION"/> 
	<Field Name="SSM_VERSION" Column="SYMPHONY_VERSION"/>
	
	<!--Symphony 4.1-->
	<Field Name="SESSION_BINDING_FAILURES" Column="SESSION_BINDING_FAILURES"/>
    <Field Name="SESSION_UPDATE_FAILURES" Column="SESSION_UPDATE_FAILURES"/>
	<Field Name="NUM_COMMON_DATA_UPDATES" Column="NUM_COMMON_DATA_UPDATES"/>
	<Field Name="TOTAL_COMMON_DATA_UPDATE_SIZE" Column="TOTAL_COMMON_DATA_UPDATE_SIZE"/>
	<Field Name="COMPRESSION_ENABLED" Column="COMPRESSION_ENABLED"/>
	<Field Name="COMMON_DATA_COMPRESSED" Column="COMMON_DATA_COMPRESSED"/>
	<Field Name="RAW_COMMON_DATA_SIZE" Column="RAW_COMMON_DATA_SIZE"/>
	<Field Name="COMPRESSION_THRESHOLD" Column="COMPRESSION_THRESHOLD"/>
	<Field Name="DIRECT_DATA_TRANSFER_ENABLED" Column="DIRECT_DATA_TRANSFER_ENABLED"/>
	
	<!--Symphony 5.0-->
	<Field Name="SESSION_ABORT_IF_CLIENT_DISCONNECT" Column="SSN_ABORT_IFCLIENT_DISCONNECT"/>
	<Field Name="SESSION_DISCARD_RESULTS_ON_DELIVERY" Column="SSN_DISCARD_RESULT_ONDELIVERY"/>
	<Field Name="PREEMPTIVE" Column="PREEMPTIVE"/>
	<Field Name="CLIENT_VERSION" Column="CLIENT_VERSION"/>
	<Field Name="CLIENT_HOST_NAME" Column="CLIENT_HOST_NAME"/>
	<Field Name="CLIENT_IP_ADDRESS" Column="CLIENT_IP_ADDRESS"/>
	<Field Name="CLIENT_OS_USER_NAME" Column="CLIENT_OS_USER_NAME"/>
	<Field Name="SERVICE_TO_SLOT_RATIO" Column="SERVICE_TO_SLOT_RATIO"/>
	<Field Name="RESOURCE_GROUP_FILTER" Column="RESOURCE_GROUP_FILTER"/>
	<Field Name="PREEMPTION_RANK" Column="PREEMPTION_RANK"/>
        <Field Name="TASKS_INTERRUPTED_BY_PREEMPT" Column="TASKS_INTERRUPTED_BY_PREEMPT"/>
        <Field Name="PREEMPT_TIME" Column="PREEMPT_TIME"/>
        <Field Name="TASKS_INTERRUPTED_BY_RECLAIM" Column="TASKS_INTERRUPTED_BY_RECLAIM"/>
        <Field Name="RECLAIM_TIME" Column="RECLAIM_TIME"/>
        
        <!--Symphony 7.1.0-->
        <Field Name="SESSION_METADATA" Column="SESSION_METADATA"/>
        <Field Name="NUM_TASK_YIELDED" Column="NUM_TASK_YIELDED"/>
		<Field Name="NUM_TASK_RESUMING" Column="NUM_TASK_RESUMING"/>
		<Field Name="PARENT_ID" Column="PARENT_ID"/>
		<Field Name="ROOT_SESSION_ID" Column="ROOT_SESSION_ID"/>
		<Field Name="TASK_DISPATCH_ORDER" Column="TASK_DISPATCH_ORDER"/>
		<Field Name="POLICY_TAG_PATH" Column="POLICY_TAG_PATH"/>
		<Field Name="SESSION_TIMEOUT" Column="SESSION_TIMEOUT"/>
		<Field Name="TASK_EXECUTION_TIMEOUT" Column="TASK_EXECUTION_TIMEOUT"/>
  	</SQL>		
	</Writer>
</DataLoader>
