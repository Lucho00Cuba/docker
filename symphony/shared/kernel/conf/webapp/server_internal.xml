<server description="Platform REST Server">

    <applicationMonitor updateTrigger="disabled"/>
	
    <library id="REST_JAR">
    	<fileset dir="${shared.resource.dir}/rest/${env.EGO_VERSION}" includes="*.jar"/>
    </library>
    
    <library id="SOAM_JAR">
    	<fileset dir="${shared.resource.dir}/rest/${env.SOAM_VERSION}" includes="*.jar"/>
    </library>

	<library id="log4jConfig">
		<folder dir="${env.EGO_CONFDIR}" includes="log4j.properties"/>
	</library>

    <webApplication id="egorest" location="${env.EGO_VERSION}/egorest" name="egorest" contextRoot="platform/rest/ego">
		<classloader commonLibraryRef="REST_JAR,log4jConfig"></classloader>
    </webApplication>
    <webApplication id="egorestv1" location="${env.EGO_VERSION}/egorestv1" name="egorestv1" contextRoot="platform/rest/ego/v1">
        <classloader commonLibraryRef="REST_JAR,log4jConfig"></classloader>
    </webApplication>
    
    <!-- define a ROOT application to resolve the root context issue -->
	<webApplication id="root" location="${env.EGO_VERSION}/ROOT" name="root" contextRoot="/" />

    <include optional="true" location="${env.EGO_CONFDIR}/webapp/webapp_deploymentrest.xml"/>
    <include optional="true" location="${env.EGO_CONFDIR}/webapp/webapp_pmrrest.xml"/>
	
    <httpSession cookieName="PLATFORMREST"/>

</server>